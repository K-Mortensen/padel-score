*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ── DARK THEME (default) ── */
:root, [data-theme="dark"] {
  --clay: #c8773d;
  --court: #d4895a;
  --green: #4a8c5c;
  --green-light: #5fa872;
  --dark: #1a1208;
  --text: #f5ede2;
  --accent: #f2c94c;
  --elo-gold: #f2c94c;
  --elo-silver: #b0bec5;
  --elo-bronze: #cd7f32;

  --bg: #1a1208;
  --bg-card: rgba(255,255,255,0.04);
  --bg-card-hover: rgba(255,255,255,0.07);
  --bg-input: rgba(255,255,255,0.06);
  --bg-input-focus: rgba(255,255,255,0.1);
  --bg-tabs: rgba(255,255,255,0.05);
  --bg-modal: #221a0e;
  --bg-player-modal: #1e160a;
  --border: rgba(200,119,61,0.25);
  --border-input: rgba(200,119,61,0.35);
  --border-mode: rgba(200,119,61,0.4);
  --text-muted: rgba(245,237,226,0.35);
  --text-dim: rgba(245,237,226,0.4);
  --text-faint: rgba(245,237,226,0.2);
  --text-mid: rgba(245,237,226,0.5);
  --text-mid2: rgba(245,237,226,0.6);
  --text-placeholder: rgba(245,237,226,0.3);
  --gradient-radial: radial-gradient(ellipse at 50% 0%, rgba(200,119,61,0.18) 0%, transparent 70%);
  --shadow-btn: 0 4px 20px rgba(242,201,76,0.3);
  --shadow-btn-hover: 0 8px 30px rgba(242,201,76,0.4);
  --shadow-court: 0 20px 60px rgba(0,0,0,0.5), inset 0 0 80px rgba(0,0,0,0.15);
  --player-card-bg: rgba(0,0,0,0.35);
  --net-post: #aaa;
  --vs-badge: rgba(245,237,226,0.3);
  --score-vs: rgba(245,237,226,0.2);
  --match-border: rgba(200,119,61,0.15);
  --stat-border-accent: rgba(200,119,61,0.2);
  --spinner-track: rgba(255,255,255,0.3);
  --no-history: rgba(245,237,226,0.25);
  --pstat-bg: rgba(255,255,255,0.05);
  --pstat-border: rgba(200,119,61,0.2);
  --winrate-bg: rgba(255,255,255,0.1);
  --pm-match-bg: rgba(255,255,255,0.04);
  --pm-match-border: rgba(200,119,61,0.12);
  --close-btn-bg: rgba(255,255,255,0.06);
  --date-filter-sep: rgba(245,237,226,0.3);
  --clear-filter-border: rgba(200,119,61,0.3);
  --clear-filter-color: rgba(200,119,61,0.6);
  --modal-overlay: rgba(0,0,0,0.75);
  --h1-shadow: 0 4px 30px rgba(242,201,76,0.3);
  --toggle-bg: rgba(255,255,255,0.06);
  --toggle-border: rgba(200,119,61,0.4);
  --toggle-color: var(--clay);
}

/* ── LIGHT THEME ── */
[data-theme="light"] {
  --clay: #b5601a;
  --court: #c97b42;
  --green: #2e7d4f;
  --green-light: #3a9960;
  --dark: #fff8f0;
  --text: #2c1a0a;
  --accent: #c8860a;
  --elo-gold: #c8860a;
  --elo-silver: #607d8b;
  --elo-bronze: #8b5e2a;

  --bg: #fff8f0;
  --bg-card: rgba(0,0,0,0.04);
  --bg-card-hover: rgba(0,0,0,0.07);
  --bg-input: rgba(0,0,0,0.05);
  --bg-input-focus: rgba(0,0,0,0.08);
  --bg-tabs: rgba(0,0,0,0.06);
  --bg-modal: #fff3e6;
  --bg-player-modal: #fff8f0;
  --border: rgba(160,90,30,0.22);
  --border-input: rgba(160,90,30,0.35);
  --border-mode: rgba(160,90,30,0.4);
  --text-muted: rgba(44,26,10,0.5);
  --text-dim: rgba(44,26,10,0.5);
  --text-faint: rgba(44,26,10,0.2);
  --text-mid: rgba(44,26,10,0.55);
  --text-mid2: rgba(44,26,10,0.65);
  --text-placeholder: rgba(44,26,10,0.3);
  --gradient-radial: radial-gradient(ellipse at 50% 0%, rgba(200,119,61,0.12) 0%, transparent 70%);
  --shadow-btn: 0 4px 20px rgba(200,134,10,0.25);
  --shadow-btn-hover: 0 8px 30px rgba(200,134,10,0.35);
  --shadow-court: 0 20px 60px rgba(0,0,0,0.18), inset 0 0 80px rgba(0,0,0,0.06);
  --player-card-bg: rgba(255,255,255,0.55);
  --net-post: #888;
  --vs-badge: rgba(44,26,10,0.3);
  --score-vs: rgba(44,26,10,0.2);
  --match-border: rgba(160,90,30,0.15);
  --stat-border-accent: rgba(160,90,30,0.2);
  --spinner-track: rgba(0,0,0,0.15);
  --no-history: rgba(44,26,10,0.3);
  --pstat-bg: rgba(0,0,0,0.04);
  --pstat-border: rgba(160,90,30,0.2);
  --winrate-bg: rgba(0,0,0,0.08);
  --pm-match-bg: rgba(0,0,0,0.03);
  --pm-match-border: rgba(160,90,30,0.12);
  --close-btn-bg: rgba(0,0,0,0.05);
  --date-filter-sep: rgba(44,26,10,0.3);
  --clear-filter-border: rgba(160,90,30,0.3);
  --clear-filter-color: rgba(160,90,30,0.7);
  --modal-overlay: rgba(60,30,0,0.5);
  --h1-shadow: 0 4px 30px rgba(200,134,10,0.2);
  --toggle-bg: rgba(0,0,0,0.05);
  --toggle-border: rgba(160,90,30,0.4);
  --toggle-color: var(--clay);
}

/* ── BASE ── */
body {
  min-height: 100vh;
  background: var(--bg);
  font-family: 'DM Sans', sans-serif;
  color: var(--text);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 40px 20px 80px;
  overflow-x: hidden;
  transition: background 0.3s, color 0.3s;
}

body::before {
  content: '';
  position: fixed; inset: 0;
  background: var(--gradient-radial);
  pointer-events: none;
}

/* ── THEME TOGGLE ── */
.theme-toggle {
  position: absolute; top: 20px; right: 20px;
  width: 42px; height: 42px;
  background: var(--toggle-bg);
  border: 1.5px solid var(--toggle-border);
  border-radius: 10px;
  color: var(--toggle-color);
  font-size: 1.1rem; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s; z-index: 100;
}
.theme-toggle:hover { background: var(--clay); color: #fff; border-color: var(--clay); transform: rotate(20deg) scale(1.05); }

/* ── HEADER ── */
h1 {
  font-family: 'Bebas Neue', sans-serif;
  font-size: clamp(3rem, 8vw, 6rem);
  letter-spacing: 0.08em;
  color: var(--accent);
  text-align: center; line-height: 1;
  text-shadow: var(--h1-shadow);
}
.subtitle {
  font-size: 0.85rem; letter-spacing: 0.3em; text-transform: uppercase;
  color: var(--clay); margin-top: 6px; margin-bottom: 24px; text-align: center;
}

/* ── SYNC BAR ── */
.sync-bar {
  width: 100%; max-width: 480px;
  background: var(--bg-card); border: 1.5px solid var(--border);
  border-radius: 14px; padding: 12px 18px;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  margin-bottom: 28px;
}
.sync-info { display: flex; align-items: center; gap: 10px; }
.sync-dot  { width: 8px; height: 8px; border-radius: 50%; background: var(--text-faint); flex-shrink: 0; transition: background 0.3s; }
.sync-dot.ok      { background: var(--green-light); box-shadow: 0 0 6px rgba(95,168,114,0.5); }
.sync-dot.syncing { background: var(--accent); animation: pulse 1s infinite; }
.sync-dot.error   { background: #e07070; }
@keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:0.3;} }
.sync-text  { display: flex; flex-direction: column; }
.sync-label { font-family: 'Bebas Neue', sans-serif; font-size: 0.9rem; letter-spacing: 0.12em; color: var(--text); }
.sync-sub   { font-size: 0.68rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-muted); }
.sync-sub.ok      { color: var(--green-light); }
.sync-sub.syncing { color: var(--accent); }
.sync-sub.error   { color: #e07070; }
.sync-btn {
  padding: 7px 16px;
  font-family: 'Bebas Neue', sans-serif; font-size: 0.82rem; letter-spacing: 0.15em;
  background: transparent; border: 1.5px solid var(--border-mode); color: var(--clay);
  border-radius: 8px; cursor: pointer; transition: all 0.2s; flex-shrink: 0;
}
.sync-btn:hover    { background: var(--clay); color: var(--dark); }
.sync-btn:disabled { opacity: 0.4; cursor: not-allowed; }

/* ── TABS ── */
.tabs {
  display: flex; gap: 4px;
  background: var(--bg-tabs); border-radius: 12px; padding: 4px;
  margin-bottom: 36px; width: 100%; max-width: 600px;
}
.tab-btn {
  flex: 1; padding: 10px;
  font-family: 'Bebas Neue', sans-serif; font-size: 0.95rem; letter-spacing: 0.12em;
  background: transparent; border: none; color: var(--text-dim);
  border-radius: 9px; cursor: pointer; transition: all 0.2s;
}
.tab-btn.active { background: var(--clay); color: var(--dark); }
.tab-content { display: none; width: 100%; max-width: 600px; flex-direction: column; align-items: center; }
.tab-content.active { display: flex; }

/* ── PLAY TAB INPUTS ── */
.input-section { width: 100%; max-width: 480px; display: flex; flex-direction: column; gap: 14px; margin-bottom: 20px; }
.input-row { display: flex; align-items: center; gap: 12px; }
.player-num { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; color: var(--clay); width: 24px; flex-shrink: 0; text-align: center; }
input[type="text"] {
  flex: 1; background: var(--bg-input); border: 1.5px solid var(--border-input);
  border-radius: 10px; padding: 14px 18px;
  font-family: 'DM Sans', sans-serif; font-size: 1rem; color: var(--text);
  outline: none; transition: border-color 0.2s, background 0.2s; text-transform: uppercase;
}
input[type="text"]::placeholder { color: var(--text-placeholder); text-transform: none; }
input[type="text"]:focus { border-color: var(--accent); background: var(--bg-input-focus); }

.input-elo-badge {
  font-family: 'Bebas Neue', sans-serif; font-size: 0.82rem; letter-spacing: 0.1em;
  color: var(--accent); background: rgba(242,201,76,0.1);
  border: 1px solid rgba(242,201,76,0.25); border-radius: 6px;
  padding: 4px 8px; flex-shrink: 0; min-width: 54px; text-align: center; transition: all 0.3s;
}
.input-elo-badge.provisional { color: var(--text-muted); background: var(--bg-card); border-color: var(--border); }

/* ── TEAM MODE ── */
.team-mode-row { width: 100%; max-width: 480px; display: flex; gap: 10px; margin-bottom: 16px; }
.mode-btn {
  flex: 1; padding: 11px;
  font-family: 'Bebas Neue', sans-serif; font-size: 0.95rem; letter-spacing: 0.15em;
  border-radius: 10px; cursor: pointer; transition: all 0.2s;
  border: 1.5px solid var(--border-mode); background: transparent; color: var(--text-mid);
}
.mode-btn.active { background: var(--clay); color: var(--dark); border-color: var(--clay); }
.manual-teams { width: 100%; max-width: 480px; display: none; gap: 14px; margin-bottom: 20px; flex-direction: column; }
.manual-teams.visible { display: flex; }
.manual-team-box { background: var(--bg-card); border: 1.5px solid var(--border); border-radius: 12px; padding: 16px; }
.manual-team-label { font-family: 'Bebas Neue', sans-serif; font-size: 0.9rem; letter-spacing: 0.2em; color: var(--clay); margin-bottom: 10px; }
.manual-team-picks { display: flex; gap: 8px; flex-wrap: wrap; }
.pick-btn {
  padding: 7px 14px; font-family: 'DM Sans', sans-serif; font-size: 0.85rem; font-weight: 600;
  border-radius: 8px; cursor: pointer; transition: all 0.15s;
  border: 1.5px solid var(--border-input); background: var(--bg-card); color: var(--text-mid2); text-transform: uppercase;
}
.pick-btn.selected-a { background: rgba(242,201,76,0.2); border-color: var(--accent); color: var(--accent); }
.pick-btn.selected-b { background: rgba(91,155,213,0.2); border-color: #5b9bd5; color: #7ab3e0; }
.pick-btn:disabled   { opacity: 0.35; cursor: not-allowed; }
.manual-team-slots { display: flex; gap: 8px; margin-top: 10px; min-height: 34px; flex-wrap: wrap; }
.slot-chip { padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; display: flex; align-items: center; gap: 6px; text-transform: uppercase; }
.slot-chip-a { background: rgba(242,201,76,0.2); color: var(--accent); border: 1px solid rgba(242,201,76,0.3); }
.slot-chip-b { background: rgba(91,155,213,0.2); color: #7ab3e0; border: 1px solid rgba(91,155,213,0.3); }
.slot-chip button { background: none; border: none; cursor: pointer; color: inherit; font-size: 0.9rem; line-height: 1; padding: 0; opacity: 0.7; }
.slot-chip button:hover { opacity: 1; }

/* ── PRIMARY BUTTON ── */
.btn {
  width: 100%; max-width: 480px; padding: 16px;
  font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 0.15em;
  background: var(--accent); color: var(--dark); border: none; border-radius: 12px;
  cursor: pointer; transition: transform 0.15s, box-shadow 0.15s; box-shadow: var(--shadow-btn);
}
.btn:hover  { transform: translateY(-2px); box-shadow: var(--shadow-btn-hover); }
.btn:active { transform: translateY(0); }
.error { color: #e07070; font-size: 0.85rem; text-align: center; margin-top: -4px; display: none; }

/* ── COURT ── */
.court-wrapper {
  width: 100%; max-width: 600px; margin-top: 40px;
  display: none; flex-direction: column; align-items: center;
  animation: fadeUp 0.5s ease forwards;
}
@keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
.match-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 0.25em; color: var(--clay); margin-bottom: 20px; }

.court {
  width: 100%; aspect-ratio: 1.6;
  background: var(--court); border-radius: 16px;
  border: 3px solid rgba(255,255,255,0.15);
  position: relative; overflow: hidden; box-shadow: var(--shadow-court);
}
.court::before { content: ''; position: absolute; inset: 8%; border: 2px solid rgba(255,255,255,0.5); border-radius: 4px; }
.court-lines   { position: absolute; inset: 0; pointer-events: none; }
.line-v        { position: absolute; left: 50%; top: 8%; bottom: 8%; width: 2px; background: rgba(255,255,255,0.5); transform: translateX(-50%); }
.line-h-left   { position: absolute; left: 8%; right: 50%; top: 50%; height: 2px; background: rgba(255,255,255,0.5); transform: translateY(-50%); }
.line-h-right  { position: absolute; left: 50%; right: 8%; top: 50%; height: 2px; background: rgba(255,255,255,0.5); transform: translateY(-50%); }
.net           { position: absolute; left: 50%; top: 0; bottom: 0; width: 16px; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; z-index: 10; }
.net-post-top, .net-post-bottom { width: 10px; height: 10px; background: var(--net-post); border-radius: 50%; flex-shrink: 0; }
.net-mesh {
  flex: 1; width: 10px;
  background:
    repeating-linear-gradient(to bottom, rgba(240,230,211,0.9) 0px, rgba(240,230,211,0.9) 2px, transparent 2px, transparent 10px),
    repeating-linear-gradient(to right,  rgba(240,230,211,0.9) 0px, rgba(240,230,211,0.9) 1px, transparent 1px, transparent 5px);
  border-left: 2px solid rgba(200,190,170,0.8); border-right: 2px solid rgba(200,190,170,0.8);
}
.side        { position: absolute; top: 0; bottom: 0; width: calc(50% - 8px); display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; }
.side-left   { left: 0; }
.side-right  { right: 0; }
.player-card { background: var(--player-card-bg); border: 1.5px solid rgba(255,255,255,0.2); border-radius: 10px; padding: 8px 14px; text-align: center; width: 80%; backdrop-filter: blur(4px); }
.player-card .player-name  { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 0.1em; color: #fff; text-shadow: 0 2px 8px rgba(0,0,0,0.5); text-transform: uppercase; }
.player-card .player-elo   { font-family: 'Bebas Neue', sans-serif; font-size: 0.82rem; letter-spacing: 0.15em; color: rgba(242,201,76,0.85); margin-top: 1px; }
.player-card .player-label { font-size: 0.6rem; letter-spacing: 0.2em; text-transform: uppercase; color: rgba(255,255,255,0.4); margin-top: 1px; }
.team-elo-bar  { position: absolute; bottom: 6px; font-family: 'Bebas Neue', sans-serif; font-size: 0.78rem; letter-spacing: 0.2em; color: rgba(255,255,255,0.55); display: flex; flex-direction: column; align-items: center; gap: 1px; }
.side-left  .team-elo-bar { left: 6px; align-items: flex-start; }
.side-right .team-elo-bar { right: 6px; align-items: flex-end; }
.team-elo-value { color: rgba(242,201,76,0.9); font-size: 1rem; }
.court-elo-matchup {
  position: absolute; top: 8px; left: 50%; transform: translateX(-50%);
  background: rgba(0,0,0,0.45); backdrop-filter: blur(6px);
  border: 1px solid rgba(242,201,76,0.3); border-radius: 8px; padding: 3px 10px;
  font-family: 'Bebas Neue', sans-serif; font-size: 0.72rem; letter-spacing: 0.15em;
  color: rgba(242,201,76,0.8); white-space: nowrap; z-index: 20;
}
.team-label { position: absolute; bottom: 24px; font-family: 'Bebas Neue', sans-serif; font-size: 0.85rem; letter-spacing: 0.25em; color: rgba(255,255,255,0.35); }
.side-left  .team-label { left: 10px; }
.side-right .team-label { right: 10px; }
.vs-badge  { margin-top: 20px; font-family: 'Bebas Neue', sans-serif; font-size: 0.85rem; letter-spacing: 0.4em; color: var(--vs-badge); }
.regenerate {
  margin-top: 16px; background: transparent; border: 1.5px solid var(--clay); color: var(--clay);
  border-radius: 10px; padding: 10px 22px; font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 0.2em; cursor: pointer; transition: all 0.2s;
}
.regenerate:hover { background: var(--clay); color: var(--dark); }

/* ── SCORE SECTION ── */
.score-section { margin-top: 28px; width: 100%; max-width: 480px; background: var(--bg-card); border: 1.5px solid var(--border); border-radius: 16px; padding: 24px; animation: fadeUp 0.5s ease 0.2s both; }
.score-section h3 { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 0.25em; color: var(--clay); margin-bottom: 20px; text-align: center; }
.score-inputs    { display: grid; grid-template-columns: 1fr auto 1fr; gap: 12px; align-items: center; margin-bottom: 20px; }
.score-team      { display: flex; flex-direction: column; align-items: center; gap: 8px; }
.score-team-name { font-family: 'Bebas Neue', sans-serif; font-size: 0.85rem; letter-spacing: 0.12em; color: var(--text-mid); text-align: center; text-transform: uppercase; }
.score-input {
  width: 80px; height: 80px; background: var(--bg-input); border: 1.5px solid var(--border-input);
  border-radius: 12px; font-family: 'Bebas Neue', sans-serif; font-size: 2.5rem; color: var(--accent); text-align: center; outline: none; transition: border-color 0.2s;
}
.score-input:focus { border-color: var(--accent); }
.score-vs { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; color: var(--score-vs); }
.elo-preview { display: flex; justify-content: space-between; align-items: center; background: rgba(242,201,76,0.06); border: 1px solid rgba(242,201,76,0.15); border-radius: 10px; padding: 12px 16px; margin-bottom: 16px; }
.elo-preview-team  { display: flex; flex-direction: column; align-items: center; gap: 3px; }
.elo-preview-label { font-size: 0.65rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--text-muted); }
.elo-preview-val   { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; color: var(--accent); }
.elo-preview-sep   { font-family: 'Bebas Neue', sans-serif; font-size: 0.8rem; color: var(--text-faint); }
.elo-change-hint   { font-size: 0.65rem; color: var(--text-muted); text-align: center; margin-top: 3px; letter-spacing: 0.08em; }
.save-btn { width: 100%; padding: 14px; font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 0.15em; background: var(--green); color: #fff; border: none; border-radius: 10px; cursor: pointer; transition: all 0.2s; }
.save-btn:hover    { background: var(--green-light); transform: translateY(-1px); }
.save-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
.save-success { text-align: center; font-size: 0.85rem; letter-spacing: 0.1em; margin-top: 10px; height: 20px; transition: opacity 0.5s; }
@keyframes spin { to { transform: rotate(360deg); } }
.spinner { display: inline-block; width: 13px; height: 13px; border: 2px solid var(--spinner-track); border-top-color: currentColor; border-radius: 50%; animation: spin 0.7s linear infinite; vertical-align: middle; margin-right: 5px; }

/* ── HISTORY TAB ── */
.history-controls { display: flex; gap: 10px; width: 100%; max-width: 480px; margin-bottom: 24px; flex-wrap: wrap; }
.history-controls button { flex: 1; padding: 10px; font-family: 'Bebas Neue', sans-serif; font-size: 0.9rem; letter-spacing: 0.15em; border-radius: 10px; cursor: pointer; transition: all 0.2s; border: 1.5px solid; }
.btn-export { background: transparent; border-color: var(--accent); color: var(--accent); }
.btn-export:hover { background: var(--accent); color: var(--dark); }
.date-filter-bar { width: 100%; max-width: 480px; display: flex; gap: 10px; align-items: center; margin-bottom: 20px; flex-wrap: wrap; }
.date-filter-label { font-family: 'Bebas Neue', sans-serif; font-size: 0.82rem; letter-spacing: 0.18em; color: var(--clay); flex-shrink: 0; }
.date-input { flex: 1; min-width: 120px; background: var(--bg-input); border: 1.5px solid var(--border-input); border-radius: 8px; padding: 8px 12px; font-family: 'DM Sans', sans-serif; font-size: 0.85rem; color: var(--text); outline: none; transition: border-color 0.2s; color-scheme: dark; }
[data-theme="light"] .date-input { color-scheme: light; }
.date-input:focus { border-color: var(--accent); }
.date-filter-sep { color: var(--date-filter-sep); font-size: 0.8rem; flex-shrink: 0; }
.btn-clear-filter { padding: 8px 14px; font-family: 'Bebas Neue', sans-serif; font-size: 0.78rem; letter-spacing: 0.15em; background: transparent; border: 1.5px solid var(--clear-filter-border); color: var(--clear-filter-color); border-radius: 8px; cursor: pointer; transition: all 0.2s; flex-shrink: 0; }
.btn-clear-filter:hover { background: rgba(200,119,61,0.15); color: var(--clay); }
.stats-grid { width: 100%; max-width: 480px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 32px; }
.stat-card  { background: var(--bg-card); border: 1.5px solid var(--stat-border-accent); border-radius: 12px; padding: 16px; animation: fadeUp 0.4s ease forwards; cursor: pointer; transition: border-color 0.2s, background 0.2s; }
.stat-card:hover { border-color: rgba(242,201,76,0.4); background: var(--bg-card-hover); }
.stat-name  { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 0.1em; color: var(--accent); margin-bottom: 10px; border-bottom: 1px solid var(--stat-border-accent); padding-bottom: 8px; text-transform: uppercase; }
.stat-row   { display: flex; justify-content: space-between; font-size: 0.78rem; color: var(--text-mid2); margin-bottom: 4px; }
.stat-row span:last-child { color: var(--text); font-weight: 600; }
.stat-winrate { margin-top: 8px; font-size: 0.7rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--clay); }
.winrate-bar  { height: 4px; background: var(--winrate-bg); border-radius: 2px; margin-top: 4px; overflow: hidden; }
.winrate-fill { height: 100%; background: linear-gradient(90deg, var(--green), var(--accent)); border-radius: 2px; transition: width 0.6s ease; }
.stat-card-hint { font-size: 0.62rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-faint); margin-top: 8px; text-align: right; }
.section-label { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 0.25em; color: var(--clay); width: 100%; max-width: 480px; margin-bottom: 14px; padding-bottom: 8px; border-bottom: 1px solid var(--border); }
.match-list    { width: 100%; max-width: 480px; display: flex; flex-direction: column; gap: 10px; }
.match-item    { background: var(--bg-card); border: 1.5px solid var(--match-border); border-radius: 12px; padding: 12px 14px; display: grid; grid-template-columns: 1fr auto 1fr auto; gap: 8px; align-items: center; animation: fadeUp 0.3s ease forwards; }
.match-team       { display: flex; flex-direction: column; gap: 2px; }
.match-team-names { font-family: 'Bebas Neue', sans-serif; font-size: 0.9rem; letter-spacing: 0.07em; color: var(--text); text-transform: uppercase; }
.match-team-names.winner { color: var(--accent); }
.match-date       { font-size: 0.68rem; color: var(--text-muted); letter-spacing: 0.1em; }
.match-score-display { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; color: var(--clay); text-align: center; }
.match-item-right { text-align: right; }
.match-item-right .match-team-names { text-align: right; }
.btn-edit-match { background: transparent; border: 1px solid rgba(242,201,76,0.3); color: rgba(242,201,76,0.5); border-radius: 6px; width: 28px; height: 28px; font-size: 0.75rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
.btn-edit-match:hover { background: var(--accent); color: var(--dark); border-color: var(--accent); }
.no-history { text-align: center; color: var(--no-history); font-size: 0.9rem; letter-spacing: 0.1em; padding: 40px 0; }

/* ── ELO TAB ── */
.elo-tab-content   { width: 100%; max-width: 560px; }
.elo-header        { text-align: center; margin-bottom: 32px; }
.elo-header-title  { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 0.35em; color: var(--clay); margin-bottom: 6px; }
.elo-header-desc   { font-size: 0.75rem; color: var(--text-muted); letter-spacing: 0.08em; max-width: 380px; margin: 0 auto; }
.elo-leaderboard   { width: 100%; display: flex; flex-direction: column; gap: 8px; margin-bottom: 32px; }
.elo-row {
  display: grid; grid-template-columns: 36px 1fr auto; gap: 12px; align-items: center;
  background: var(--bg-card); border: 1.5px solid var(--match-border);
  border-radius: 14px; padding: 14px 16px; cursor: pointer;
  transition: border-color 0.2s, background 0.2s, transform 0.15s; animation: fadeUp 0.4s ease both;
}
.elo-row:hover  { border-color: rgba(242,201,76,0.35); background: var(--bg-card-hover); transform: translateX(3px); }
.elo-row.rank-1 { border-color: rgba(242,201,76,0.4); background: rgba(242,201,76,0.05); }
.elo-row.rank-2 { border-color: rgba(176,190,197,0.35); }
.elo-row.rank-3 { border-color: rgba(205,127,50,0.35); }
.elo-row.provisional { opacity: 0.6; }
.elo-rank { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 0.05em; text-align: center; line-height: 1; }
.rank-1 .elo-rank { color: var(--elo-gold); }
.rank-2 .elo-rank { color: var(--elo-silver); }
.rank-3 .elo-rank { color: var(--elo-bronze); }
.elo-row:not(.rank-1):not(.rank-2):not(.rank-3) .elo-rank { color: var(--text-muted); }
.elo-player-info { display: flex; flex-direction: column; gap: 4px; min-width: 0; }
.elo-player-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 0.08em; color: var(--text); text-transform: uppercase; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.elo-player-meta { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.elo-meta-chip   { font-size: 0.65rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); background: var(--bg-card); border: 1px solid var(--border); border-radius: 4px; padding: 2px 7px; }
.elo-meta-chip.win  { color: var(--green-light); border-color: rgba(74,140,92,0.3); background: rgba(74,140,92,0.1); }
.elo-meta-chip.loss { color: #e07070; border-color: rgba(224,112,112,0.2); background: rgba(224,112,112,0.08); }
.elo-meta-chip.prov { color: var(--clay); border-color: rgba(200,119,61,0.3); }
.elo-form { display: flex; gap: 3px; align-items: center; }
.form-dot   { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
.form-dot.w { background: var(--green-light); }
.form-dot.d { background: var(--clay); }
.form-dot.l { background: #e07070; }
.elo-rating-block { display: flex; flex-direction: column; align-items: flex-end; gap: 3px; flex-shrink: 0; }
.elo-rating-val   { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; line-height: 1; letter-spacing: 0.03em; }
.rank-1 .elo-rating-val { color: var(--elo-gold); }
.rank-2 .elo-rating-val { color: var(--elo-silver); }
.rank-3 .elo-rating-val { color: var(--elo-bronze); }
.elo-row:not(.rank-1):not(.rank-2):not(.rank-3) .elo-rating-val { color: var(--text); }
.elo-rating-delta      { font-family: 'Bebas Neue', sans-serif; font-size: 0.75rem; letter-spacing: 0.1em; }
.elo-rating-delta.up   { color: var(--green-light); }
.elo-rating-delta.down { color: #e07070; }
.elo-rating-delta.flat { color: var(--text-faint); }
.elo-rating-lbl { font-size: 0.6rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--text-faint); }
.elo-section-divider { display: flex; align-items: center; gap: 12px; width: 100%; margin: 8px 0 4px; }
.elo-section-divider span { font-family: 'Bebas Neue', sans-serif; font-size: 0.75rem; letter-spacing: 0.2em; color: var(--text-faint); white-space: nowrap; }
.elo-section-divider::before, .elo-section-divider::after { content: ''; flex: 1; height: 1px; background: var(--border); }

/* ── MODALS ── */
.modal-overlay { position: fixed; inset: 0; z-index: 1000; background: var(--modal-overlay); display: flex; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(4px); animation: fadeIn 0.2s ease; overflow-y: auto; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.modal { background: var(--bg-modal); border: 1.5px solid rgba(200,119,61,0.4); border-radius: 18px; padding: 28px 24px; width: 100%; max-width: 440px; animation: slideUp 0.25s ease; position: relative; }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.modal-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; letter-spacing: 0.2em; color: var(--accent); margin-bottom: 22px; text-align: center; }
.modal-teams { display: grid; grid-template-columns: 1fr auto 1fr; gap: 10px; align-items: start; margin-bottom: 20px; }
.modal-team-label { font-family: 'Bebas Neue', sans-serif; font-size: 0.8rem; letter-spacing: 0.15em; color: var(--text-dim); margin-bottom: 6px; }
.modal-team-label.team-a { color: var(--accent); }
.modal-team-label.team-b { color: #7ab3e0; }
.modal-vs-col { display: flex; align-items: center; justify-content: center; padding-top: 28px; }
.modal-name-input { width: 100%; background: var(--bg-input); border: 1.5px solid var(--border-input); border-radius: 8px; padding: 10px 12px; font-family: 'DM Sans', sans-serif; font-size: 0.9rem; color: var(--text); outline: none; transition: border-color 0.2s; text-transform: uppercase; margin-bottom: 6px; display: block; }
.modal-name-input:last-child { margin-bottom: 0; }
.modal-name-input:focus { border-color: var(--accent); }
.modal-score-row   { display: grid; grid-template-columns: 1fr auto 1fr; gap: 10px; align-items: center; margin-bottom: 16px; }
.modal-score-label { font-family: 'Bebas Neue', sans-serif; font-size: 0.75rem; letter-spacing: 0.12em; color: var(--text-muted); text-align: center; margin-bottom: 6px; }
.modal-score-input { width: 100%; height: 70px; background: var(--bg-input); border: 1.5px solid var(--border-input); border-radius: 10px; font-family: 'Bebas Neue', sans-serif; font-size: 2rem; color: var(--accent); text-align: center; outline: none; transition: border-color 0.2s; }
.modal-score-input:focus { border-color: var(--accent); }
.modal-vs { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; color: var(--score-vs); text-align: center; }
.modal-datetime-row   { margin-bottom: 22px; }
.modal-datetime-label { font-family: 'Bebas Neue', sans-serif; font-size: 0.78rem; letter-spacing: 0.15em; color: var(--text-muted); margin-bottom: 6px; }
.modal-datetime-input { width: 100%; background: var(--bg-input); border: 1.5px solid var(--border-input); border-radius: 8px; padding: 10px 12px; font-family: 'DM Sans', sans-serif; font-size: 0.9rem; color: var(--text); outline: none; transition: border-color 0.2s; color-scheme: dark; }
[data-theme="light"] .modal-datetime-input { color-scheme: light; }
.modal-datetime-input:focus { border-color: var(--accent); }
.modal-buttons { display: flex; gap: 10px; }
.modal-btn-cancel { flex: 1; padding: 12px; font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 0.15em; background: transparent; border: 1.5px solid var(--border-mode); color: var(--clay); border-radius: 10px; cursor: pointer; transition: all 0.2s; }
.modal-btn-cancel:hover { background: rgba(200,119,61,0.15); }
.modal-btn-save { flex: 2; padding: 12px; font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 0.15em; background: var(--green); color: #fff; border: none; border-radius: 10px; cursor: pointer; transition: all 0.2s; }
.modal-btn-save:hover    { background: var(--green-light); }
.modal-btn-save:disabled { opacity: 0.5; cursor: not-allowed; }

/* ── PLAYER MODAL ── */
.player-modal { background: var(--bg-player-modal); border: 1.5px solid rgba(200,119,61,0.4); border-radius: 18px; padding: 28px 24px; width: 100%; max-width: 500px; max-height: 85vh; overflow-y: auto; animation: slideUp 0.25s ease; position: relative; }
.player-modal-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 22px; gap: 12px; }
.player-modal-name-group { display: flex; flex-direction: column; gap: 4px; }
.player-modal-name { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; letter-spacing: 0.1em; color: var(--accent); }
.player-modal-elo  { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 0.15em; color: var(--clay); }
.modal-close-btn   { background: var(--close-btn-bg); border: 1.5px solid var(--border); color: var(--text-mid); border-radius: 8px; width: 34px; height: 34px; font-size: 1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
.modal-close-btn:hover { background: rgba(200,119,61,0.2); color: var(--text); }
.player-stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 24px; }
.pstat-box { background: var(--pstat-bg); border: 1px solid var(--pstat-border); border-radius: 10px; padding: 12px 8px; text-align: center; }
.pstat-val { font-family: 'Bebas Neue', sans-serif; font-size: 1.8rem; color: var(--accent); line-height: 1; }
.pstat-lbl { font-size: 0.62rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--text-muted); margin-top: 4px; }
.player-winrate-section { margin-bottom: 24px; }
.player-winrate-label   { font-family: 'Bebas Neue', sans-serif; font-size: 0.8rem; letter-spacing: 0.2em; color: var(--clay); margin-bottom: 6px; display: flex; justify-content: space-between; }
.player-winrate-bar     { height: 8px; background: var(--winrate-bg); border-radius: 4px; overflow: hidden; }
.player-winrate-fill    { height: 100%; background: linear-gradient(90deg, var(--green), var(--accent)); border-radius: 4px; transition: width 0.8s ease; }
.player-elo-section       { margin-bottom: 24px; }
.player-elo-section-title { font-family: 'Bebas Neue', sans-serif; font-size: 0.8rem; letter-spacing: 0.2em; color: var(--clay); margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
.elo-spark     { width: 100%; height: 60px; position: relative; }
.elo-spark svg { width: 100%; height: 100%; }
.player-matches-title { font-family: 'Bebas Neue', sans-serif; font-size: 0.9rem; letter-spacing: 0.25em; color: var(--clay); margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid var(--border); }
.player-match-item { background: var(--pm-match-bg); border: 1px solid var(--pm-match-border); border-radius: 10px; padding: 10px 12px; margin-bottom: 8px; display: grid; grid-template-columns: 1fr auto 1fr; gap: 8px; align-items: center; }
.pm-team       { display: flex; flex-direction: column; gap: 1px; }
.pm-team-names { font-family: 'Bebas Neue', sans-serif; font-size: 0.82rem; letter-spacing: 0.06em; text-transform: uppercase; }
.pm-team-names.highlight { color: var(--accent); }
.pm-team-names.dim       { color: var(--text-mid); }
.pm-date  { font-size: 0.62rem; color: var(--text-muted); letter-spacing: 0.08em; margin-top: 2px; }
.pm-score { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; color: var(--clay); text-align: center; }
.pm-right { text-align: right; }
.pm-result-badge { font-family: 'Bebas Neue', sans-serif; font-size: 0.65rem; letter-spacing: 0.15em; padding: 2px 7px; border-radius: 4px; margin-top: 3px; display: inline-block; }
.pm-result-badge.win  { background: rgba(74,140,92,0.25); color: var(--green-light); border: 1px solid rgba(74,140,92,0.3); }
.pm-result-badge.loss { background: rgba(224,112,112,0.15); color: #e07070; border: 1px solid rgba(224,112,112,0.2); }
.pm-result-badge.draw { background: rgba(200,119,61,0.15); color: var(--clay); border: 1px solid rgba(200,119,61,0.2); }
.pm-elo-delta      { font-size: 0.62rem; letter-spacing: 0.08em; margin-top: 2px; }
.pm-elo-delta.up   { color: var(--green-light); }
.pm-elo-delta.down { color: #e07070; }

/* ── RESPONSIVE ── */
@media (max-width: 420px) {
  .player-stats-grid { grid-template-columns: repeat(2, 1fr); }
  .elo-row { grid-template-columns: 28px 1fr auto; }
  .elo-rating-val { font-size: 1.6rem; }
}
